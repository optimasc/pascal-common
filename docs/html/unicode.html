<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1 Strict//EN" "http://www.w3.org/TR/REC-html4/strict.dtd">
<html>
<head>
<meta name="GENERATOR" content="PasDoc 0.8.8.3"/>
<title>Common pascal units documentation: unicode</title>
<link rel="StyleSheet" href="pasdoc.css"/>
</head>
<body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#FF0000">
<h1>Unit unicode</h1>
<table class="sections"><tr>
<td><a class="normal" href="#@Description">Description</a></td><td>uses</td><td>Classes, Interfaces and Objects</td><td><a class="normal" href="#@FuncsProcs">Functions and Procedures</a></td><td><a class="normal" href="#@Types">Types</a></td><td><a class="normal" href="#@Constants">Constants</a></td><td>Variables</td></tr></table>
<a name="@Description"></a><h2>Description</h2>
unicode support unit<p>This unit contains routines to convert
    between the different unicode encoding
    schemes.</p><p>All UNICODE/ISO 10646 pascal styled strings are limited to
    MAX_STRING_LENGTH characters. Null terminated unicode strings are
    limited by the compiler and integer type size.</p><p>Since all these encoding are variable length,
    except the UCS-4 (which is equivalent to UTF-32 according to 
    ISO 10646:2003) and UCS-2 encoding, to parse through characters, 
    every string should be converted to UCS-4 or UCS-2 before being used.</p><p>The principal encoding scheme for this unit is UCS-4.</p>
<a name="@FuncsProcs"></a><h2>Functions and Procedures</h2>
<h3>Overview</h3>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><code>function <a class="normal" href="#ucs4_length"><b>ucs4_length</b></a>(const s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4_setlength"><b>ucs4_setlength</b></a>(var s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; l: integer);</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4_iswhitespace"><b>ucs4_iswhitespace</b></a>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): boolean;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4_upcase"><b>ucs4_upcase</b></a>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4_lowcase"><b>ucs4_lowcase</b></a>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4_trimleft"><b>ucs4_trimleft</b></a>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#ucs4_trimright"><b>ucs4_trimright</b></a>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4_trim"><b>ucs4_trim</b></a>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#ucs4_copy"><b>ucs4_copy</b></a>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; index: integer; count: integer);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4_delete"><b>ucs4_delete</b></a>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; index: integer; count: integer);</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#ucs4_concat"><b>ucs4_concat</b></a>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>;s1: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s2: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4_concatascii"><b>ucs4_concatascii</b></a>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>;s1: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; s2: string);</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4_posascii"><b>ucs4_posascii</b></a>(substr: string; s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4_equalascii"><b>ucs4_equalascii</b></a>(s1 : array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; s2: string): boolean;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4_pos"><b>ucs4_pos</b></a>(substr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4_equal"><b>ucs4_equal</b></a>(const s1,s2: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): boolean;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4_isvalid"><b>ucs4_isvalid</b></a>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): boolean;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4_issupported"><b>ucs4_issupported</b></a>(s: string): boolean;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strlen"><b>ucs4strlen</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#ucs4strpas"><b>ucs4strpas</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; var res:<a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strpastoISO8859_1"><b>ucs4strpastoISO8859_1</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): string;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4strpastoASCII"><b>ucs4strpastoASCII</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): string;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strpastoUTF8"><b>ucs4strpastoUTF8</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#utf8string">utf8string</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4strpcopy"><b>ucs4strpcopy</b></a>(dest: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; source: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>):<a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strnewstr"><b>ucs4strnewstr</b></a>(str: string; srctype: string): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4strnew"><b>ucs4strnew</b></a>(str: pchar; srctype: string): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strnewucs4"><b>ucs4strnewucs4</b></a>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4strnewucs2"><b>ucs4strnewucs2</b></a>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strdispose"><b>ucs4strdispose</b></a>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4StrPosISO8859_1"><b>ucs4StrPosISO8859_1</b></a>(S: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; Str2: PChar): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs4strtrim"><b>ucs4strtrim</b></a>(const p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs4strfill"><b>ucs4strfill</b></a>(var p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; count: integer; value: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#ucs4strcheck"><b>ucs4strcheck</b></a>(p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxcount: integer; value: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs2_length"><b>ucs2_length</b></a>(const s: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#ucs2_setlength"><b>ucs2_setlength</b></a>(var s: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>; l: integer);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs2_isvalid"><b>ucs2_isvalid</b></a>(ch: <a class="normal" href="unicode.html#ucs2char">ucs2char</a>): boolean;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs2strlcopyucs4"><b>ucs2strlcopyucs4</b></a>(src: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>; dst: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxlen: integer): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs2strlen"><b>ucs2strlen</b></a>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ucs2strnew"><b>ucs2strnew</b></a>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs2char">pucs2char</a>;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ucs2strdispose"><b>ucs2strdispose</b></a>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): <a class="normal" href="unicode.html#pucs2char">pucs2char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf8strnew"><b>utf8strnew</b></a>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): pchar;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8strnewutf8"><b>utf8strnewutf8</b></a>(src: pchar): pchar;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf8strdispose"><b>utf8strdispose</b></a>(p: pchar): pchar;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8strlcopyucs4"><b>utf8strlcopyucs4</b></a>(src: pchar; dst: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxlen: integer): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf8strpastoISO8859_1"><b>utf8strpastoISO8859_1</b></a>(src: pchar): string;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8strpastoASCII"><b>utf8strpastoASCII</b></a>(src: pchar): string;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf8strpas"><b>utf8strpas</b></a>(src: pchar): string;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8strnewstr"><b>utf8strnewstr</b></a>(str: <a class="normal" href="unicode.html#utf8string">utf8string</a>): <a class="normal" href="unicode.html#putf8char">putf8char</a>;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf16_sizeencoding"><b>utf16_sizeencoding</b></a>(c: <a class="normal" href="unicode.html#utf16char">utf16char</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8_sizeencoding"><b>utf8_sizeencoding</b></a>(c: <a class="normal" href="unicode.html#utf8char">utf8char</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf16_length"><b>utf16_length</b></a>(const s: array of <a class="normal" href="unicode.html#utf16char">utf16char</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#utf8_length"><b>utf8_length</b></a>(const s: <a class="normal" href="unicode.html#utf8string">utf8string</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#utf8_islegal"><b>utf8_islegal</b></a>(const s: <a class="normal" href="unicode.html#utf8string">utf8string</a>): boolean;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>procedure <a class="normal" href="#utf8_setlength"><b>utf8_setlength</b></a>(var s: <a class="normal" href="unicode.html#utf8string">utf8string</a>; l: integer);</code></td>
</tr>
<tr class="list" valign="top"><td><code>procedure <a class="normal" href="#utf16_setlength"><b>utf16_setlength</b></a>(var s: array of <a class="normal" href="unicode.html#utf16char">utf16char</a>; l: integer);</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#convertUCS4toUTF8"><b>convertUCS4toUTF8</b></a>(s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var outstr: <a class="normal" href="unicode.html#utf8string">utf8string</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ConvertFromUCS4"><b>ConvertFromUCS4</b></a>(const source: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; var dest: string; desttype: string): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ConvertToUCS4"><b>ConvertToUCS4</b></a>(source: string; var dest: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; srctype: string): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ConvertUTF16ToUCS4"><b>ConvertUTF16ToUCS4</b></a>(src: <a class="normal" href="unicode.html#utf16string">utf16string</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ConvertUCS4toUTF16"><b>ConvertUCS4toUTF16</b></a>(src: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var dest: <a class="normal" href="unicode.html#utf16string">utf16string</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ConvertUTF8ToUCS4"><b>ConvertUTF8ToUCS4</b></a>(src: <a class="normal" href="unicode.html#utf8string">utf8string</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
<tr class="list2" valign="top"><td><code>function <a class="normal" href="#ConvertUCS4ToUCS2"><b>ConvertUCS4ToUCS2</b></a>(src: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var dst: <a class="normal" href="unicode.html#ucs2string">ucs2string</a>): integer;</code></td>
</tr>
<tr class="list" valign="top"><td><code>function <a class="normal" href="#ConvertUCS2ToUCS4"><b>ConvertUCS2ToUCS4</b></a>(src: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<h3>Description</h3>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertFromUCS4"></a><code>function <b>ConvertFromUCS4</b>(const source: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; var dest: string; desttype: string): integer;</code></td>
</tr>
</table>
<p>Convert an UCS-4 string to a single byte encoded string<p>This routine converts an UCS-4 string stored in native byte order
     (native endian) to a single-byte encoded string.</p><p>The string is limited to MAX_STRING_LENGTH characters, and if
     the conversion cannot be successfully be completed, it gives out an error.</p><p>The following <code>desttype</code> can be specified: ISO-8859-1, windows-1252,
     ISO-8859-2, ISO-8859-5, ISO-8859-16, macintosh, atari, cp437, cp850, ASCII
     and UTF-8.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
desttype</dt>
<dd class="parameters">
Indicates the single byte encoding scheme - case-insensitive</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertToUCS4"></a><code>function <b>ConvertToUCS4</b>(source: string; var dest: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; srctype: string): integer;</code></td>
</tr>
</table>
<p>Convert a byte encoded string to an UCS-4 string<p>This routine converts a single byte encoded string to an UCS-4
     string stored in native byte order</p><p>Characters that cannot be converted are converted to escape
     sequences of the form : \uxxxxxxxx where xxxxxxxx is the hex
     representation of the character, an error code will also be
     returned by the function</p><p>The string is limited to MAX_STRING_LENGTH characters, and if
     the conversion cannot be successfully be completed, it gives
     out an error. The following <code>srctype</code> can be specified:
     ISO-8859-1, windows-1252, ISO-8859-2, ISO-8859-5, ISO-8859-16,
     macintosh, atari, cp437, cp850, ASCII.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
srctype</dt>
<dd class="parameters">
Indicates the single byte encoding scheme - case-insensitive</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertUCS2ToUCS4"></a><code>function <b>ConvertUCS2ToUCS4</b>(src: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UCS-2 string to an UCS-4 string<p>This routine converts an UCS-2 string to an UCS-4 string that
      is stored in native byte order (big-endian). If some characters
      could not be converted an error will be reported.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
src</dt>
<dd class="parameters">
Either a single ucs-2 character or a complete ucs-2 string</dd>
<dt class="parameters">
dest</dt>
<dd class="parameters">
Resulting UCS-4 coded string</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertUCS4ToUCS2"></a><code>function <b>ConvertUCS4ToUCS2</b>(src: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var dst: <a class="normal" href="unicode.html#ucs2string">ucs2string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UCS-4 string to an UCS-2 string<p>This routine converts an UCS-4 string to an UCS-2 string that
      is stored in native byte order. If some characters
      could not be converted an error will be reported.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
src</dt>
<dd class="parameters">
Either a single UCS-4 character or a complete UCS-4 string</dd>
<dt class="parameters">
dest</dt>
<dd class="parameters">
Resulting UCS-2 coded string</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertUCS4toUTF16"></a><code>function <b>ConvertUCS4toUTF16</b>(src: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var dest: <a class="normal" href="unicode.html#utf16string">utf16string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UCS-4 string to an UTF-16 string<p>This routine converts an UCS-4 string to an UTF-16 string.
      Both strings must be stored in native byte order (native endian).</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
src</dt>
<dd class="parameters">
Either a single UCS-4 character or a complete UCS-4 string</dd>
<dt class="parameters">
dest</dt>
<dd class="parameters">
Resulting UTF-16 coded string</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="convertUCS4toUTF8"></a><code>function <b>convertUCS4toUTF8</b>(s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; var outstr: <a class="normal" href="unicode.html#utf8string">utf8string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UCS-4 string to an UTF-8 string<p>Converts an UCS-4 string or character
      in native endian to an UTF-8 string.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
s</dt>
<dd class="parameters">
Either a single UCS-4 character or a complete UCS-4 string</dd>
<dt class="parameters">
outstr</dt>
<dd class="parameters">
Resulting UTF-8 coded string</dd>
</dl>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertUTF16ToUCS4"></a><code>function <b>ConvertUTF16ToUCS4</b>(src: <a class="normal" href="unicode.html#utf16string">utf16string</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UTF-16 string to an UCS-4 string<p>This routine converts an UTF-16 string to an UCS-4 string.
      Both strings must be stored in native byte order (native endian).</p>
</p>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ConvertUTF8ToUCS4"></a><code>function <b>ConvertUTF8ToUCS4</b>(src: <a class="normal" href="unicode.html#utf8string">utf8string</a>; var dst: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<p>Convert an UTF-8 string to an UCS-4 string<p>This routine converts an UTF-8 string to an UCS-4 string that
      is stored in native byte order.</p>
</p>
<h6>returns</h6>
<p class="return"><a class="normal" href="unicode.html#UNICODE_ERR_OK">UNICODE_ERR_OK</a> if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2strdispose"></a><code>function <b>ucs2strdispose</b>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): <a class="normal" href="unicode.html#pucs2char">pucs2char</a>;</code></td>
</tr>
</table>
<p>Disposes of an UCS-2 null terminated string on the heap<p>Disposes of a string that was previously allocated with
      <code>ucs2strnew</code>, and sets the pointer to nil.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2strlcopyucs4"></a><code>function <b>ucs2strlcopyucs4</b>(src: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>; dst: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxlen: integer): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Convert an UCS-2 null terminated string to an UCS-4 null terminated string<p>This routine converts an UCS-2 encoded null terminared string to an UCS-4
      null terminated string that is stored in native byte order, up to
      length conversion. The destination buffer should already have been
      allocated.</p>
</p>
<h6>returns</h6>
<p class="return">nil if there was an error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2strlen"></a><code>function <b>ucs2strlen</b>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the number of characters in the null terminated UCS-2 string</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
str</dt>
<dd class="parameters">
The UCS-2 null terminated string to check</dd>
</dl>
<h6>returns</h6>
<p class="return">The number of characters in str, not counting the null
        character</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2strnew"></a><code>function <b>ucs2strnew</b>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs2char">pucs2char</a>;</code></td>
</tr>
</table>
<p>Converts an UCS-4 null terminated string to an UCS-2 null
   terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#ucs2strdispose">ucs2strdispose</a> to dispose
   of the allocated string. The string is null terminated. If src is nil,
   this routine returns nil, and does not allocate anything.</p>
</p>
<h6>returns</h6>
<p class="return">nil if the conversion cannot be represented in UCS-2 encoding,
      or nil if there was an error</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2_isvalid"></a><code>function <b>ucs2_isvalid</b>(ch: <a class="normal" href="unicode.html#ucs2char">ucs2char</a>): boolean;</code></td>
</tr>
</table>
<p>Checks if the UCS-2 character is valid<p>This routine verifies if the UCS-2 character is
      within the valid ranges of UCS-2 characters, as
      specified in the Unicode standard 4.0. BOM characters
      are NOT valid with this routine.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2_length"></a><code>function <b>ucs2_length</b>(const s: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the current length of an UCS-2 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs2_setlength"></a><code>procedure <b>ucs2_setlength</b>(var s: array of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>; l: integer);</code></td>
</tr>
</table>
<p>Set the new dynamic length of an ucs-2 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strcheck"></a><code>procedure <b>ucs4strcheck</b>(p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxcount: integer; value: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>);</code></td>
</tr>
</table>
<p><p>This routine checks the validity of an UCS-4 null terminated string.
      It first skips to the null character, and if maxcount is greater than
      the index, verifies that the values in memory are of value VALUE.</p><p>Otherwise, returns an ERROR. This routine is used with UCS4StrFill.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strdispose"></a><code>function <b>ucs4strdispose</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Disposes of an UCS-4 null terminated string on the heap<p>Disposes of a string that was previously allocated with
      <code>ucs4strnew</code>, and sets the pointer to nil.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strfill"></a><code>function <b>ucs4strfill</b>(var p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; count: integer; value: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p><p>Fills a memory region consisting of ucs-4 characters
     with the specified UCS-4 character.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strlen"></a><code>function <b>ucs4strlen</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the number of characters in the null terminated UCS-4 string</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
str</dt>
<dd class="parameters">
The UCS-4 null terminated string to check</dd>
</dl>
<h6>returns</h6>
<p class="return">The number of characters in str, not counting the null
        character</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strnew"></a><code>function <b>ucs4strnew</b>(str: pchar; srctype: string): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Converts a null terminated string to an UCS-4 null
   terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#ucs4strdispose">ucs4strdispose</a> to dispose
   of the allocated string. The string is null terminated. If str is nil, then
   this routine returns nil and does not allocate anything.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
str</dt>
<dd class="parameters">
The string to convert, single character coded, or UTF-8 coded</dd>
<dt class="parameters">
srctype</dt>
<dd class="parameters">
The encoding of the string, UTF-8 is also valid - case-insensitive</dd>
</dl>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strnewstr"></a><code>function <b>ucs4strnewstr</b>(str: string; srctype: string): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Converts a pascal string to an UCS-4 null
   terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#ucs4strdispose">ucs4strdispose</a> to dispose
   of the allocated string. The string is null terminated. If the original
   string contains some null characters, those nulls are removed from
   the resulting string.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
str</dt>
<dd class="parameters">
The string to convert, single character coded</dd>
<dt class="parameters">
srctype</dt>
<dd class="parameters">
The encoding of the string, UTF-8 is also valid - case-insensitive</dd>
</dl>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strnewucs2"></a><code>function <b>ucs4strnewucs2</b>(str: <a class="normal" href="unicode.html#pucs2char">pucs2char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Converts an UCS-2 null terminated string to an UCS-4 null
   terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#ucs4strdispose">ucs4strdispose</a> to dispose
   of the allocated string. The string is null terminated. If str is nil, then
   this routine returns nil and does not allocate anything.</p>
</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
str</dt>
<dd class="parameters">
The string to convert, UCS-2 encoded</dd>
</dl>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strnewucs4"></a><code>function <b>ucs4strnewucs4</b>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Allocates and copies an UCS-4 null terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#ucs4strdispose">ucs4strdispose</a> to dispose
   of the allocated string. The string is copied from src and is null terminated.
   If the parameter is nil, this routine returns nil and does not allocate
   anything.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strpas"></a><code>procedure <b>ucs4strpas</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; var res:<a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
</table>
<p>Converts a null-terminated UCS-4 string to a Pascal-style UCS-4 string.</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strpastoASCII"></a><code>function <b>ucs4strpastoASCII</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): string;</code></td>
</tr>
</table>
<p>Converts a null-terminated UCS-4 string to a Pascal-style 
       ASCII encoded string.<p>If the length is greater than the supported maximum string
       length, the string is truncated.</p><p>Characters that cannot be converted are converted to
      escape sequences of the form : \uxxxxxxxx where xxxxxxxx is
      the hex representation of the character.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strpastoISO8859_1"></a><code>function <b>ucs4strpastoISO8859_1</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): string;</code></td>
</tr>
</table>
<p>Converts a null-terminated UCS-4 string to a Pascal-style 
       ISO 8859-1 encoded string.<p>If the length is greater than the supported maximum string
      length, the string is truncated.</p><p>Characters that cannot be converted are converted to 
      escape sequences of the form : \uxxxxxxxx where xxxxxxxx is
      the hex representation of the character.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strpastoUTF8"></a><code>function <b>ucs4strpastoUTF8</b>(str: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#utf8string">utf8string</a>;</code></td>
</tr>
</table>
<p>Converts a null-terminated UCS-4 string to a Pascal-style 
       UTF-8 encoded string.<p>If the length is greater than the supported maximum string
       length, the string is truncated.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strpcopy"></a><code>function <b>ucs4strpcopy</b>(dest: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; source: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>):<a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Copies a Pascal-style UCS-4 string to a null-terminated UCS-4 string.<p>This routine does not perform any length checking.
      If the source string contains some null characters,
      those nulls are removed from the resulting string.</p><p>The destination buffer must have room for at least Length(Source)+1 characters.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4StrPosISO8859_1"></a><code>function <b>ucs4StrPosISO8859_1</b>(S: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; Str2: PChar): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p><p>Returns a pointer to the first occurence of an ISO-8859-1
     encoded null terminated string in a UCS-4 encoded
     null terminated string.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4strtrim"></a><code>function <b>ucs4strtrim</b>(const p: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p><p>Allocates a new UCS-4 null terminated string, and copies
     the existing string, avoid a copy of the whitespace at
     the start and end of the string</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_concat"></a><code>procedure <b>ucs4_concat</b>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>;s1: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s2: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>);</code></td>
</tr>
</table>
<p>Concatenates two UCS-4 strings, and gives a resulting UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_concatascii"></a><code>procedure <b>ucs4_concatascii</b>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>;s1: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; s2: string);</code></td>
</tr>
</table>
<p>Concatenates an UCS-4 string with an ASCII string, and gives
      a resulting UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_copy"></a><code>procedure <b>ucs4_copy</b>(var resultstr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; index: integer; count: integer);</code></td>
</tr>
</table>
<p>Returns an UCS-4 substring of an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_delete"></a><code>procedure <b>ucs4_delete</b>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; index: integer; count: integer);</code></td>
</tr>
</table>
<p>Deletes a substring from a string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_equal"></a><code>function <b>ucs4_equal</b>(const s1,s2: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): boolean;</code></td>
</tr>
</table>
<p>Checks if both UCS-4 strings are equal</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_equalascii"></a><code>function <b>ucs4_equalascii</b>(s1 : array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; s2: string): boolean;</code></td>
</tr>
</table>
<p>Checks if an ASCII string is equal to an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_issupported"></a><code>function <b>ucs4_issupported</b>(s: string): boolean;</code></td>
</tr>
</table>
<p>Checks if conversion from/to this character set format to/from UCS-4
      is supported</p>
<h6>parameters</h6>
<dl class="parameters">
<dt class="parameters">
s</dt>
<dd class="parameters">
This is an alias for a character set, as defined by IANA</dd>
</dl>
<h6>returns</h6>
<p class="return">true if conversion to/from UCS-4 is supported with this
        character set, otherwise FALSE</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_isvalid"></a><code>function <b>ucs4_isvalid</b>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): boolean;</code></td>
</tr>
</table>
<p>Checks if the UCS-4 character is valid<p>This routine verifies if the UCS-4 character is
      within the valid ranges of UCS-4 characters, as
      specified in the Unicode standard 4.0. BOM characters
      are NOT valid with this routine.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_iswhitespace"></a><code>function <b>ucs4_iswhitespace</b>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): boolean;</code></td>
</tr>
</table>
<p>Determines if the specified character is a whitespace character</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_length"></a><code>function <b>ucs4_length</b>(const s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the current length of an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_lowcase"></a><code>function <b>ucs4_lowcase</b>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
</tr>
</table>
<p>Converts a character to a lowercase character<p>This routine only supports the simple form case folding
      algorithm (e.g full form is not supported).</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_pos"></a><code>function <b>ucs4_pos</b>(substr: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>; const s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<p>Searches for an UCS-4 substring in an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_posascii"></a><code>function <b>ucs4_posascii</b>(substr: string; s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>): integer;</code></td>
</tr>
</table>
<p>Searches for an ASCII substring in an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_setlength"></a><code>procedure <b>ucs4_setlength</b>(var s: array of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>; l: integer);</code></td>
</tr>
</table>
<p>Set the new dynamic length of an UCS-4 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_trim"></a><code>procedure <b>ucs4_trim</b>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
</table>
<p>Trims trailing and leading spaces and control characters from an UCS-4 string.</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_trimleft"></a><code>procedure <b>ucs4_trimleft</b>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
</table>
<p>Trims leading spaces and control characters from an UCS-4 string.</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_trimright"></a><code>procedure <b>ucs4_trimright</b>(var s: <a class="normal" href="unicode.html#ucs4string">ucs4string</a>);</code></td>
</tr>
</table>
<p>Trims trailing spaces and control characters from an UCS-4 string.</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="ucs4_upcase"></a><code>function <b>ucs4_upcase</b>(c: <a class="normal" href="unicode.html#ucs4char">ucs4char</a>): <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
</tr>
</table>
<p>Converts a character to an uppercase character<p>This routine only supports the simple form case folding
      algorithm (e.g full form is not supported).</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf16_length"></a><code>function <b>utf16_length</b>(const s: array of <a class="normal" href="unicode.html#utf16char">utf16char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the current length of an UTF-16 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf16_setlength"></a><code>procedure <b>utf16_setlength</b>(var s: array of <a class="normal" href="unicode.html#utf16char">utf16char</a>; l: integer);</code></td>
</tr>
</table>
<p>Set the length of an UTF-16 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf16_sizeencoding"></a><code>function <b>utf16_sizeencoding</b>(c: <a class="normal" href="unicode.html#utf16char">utf16char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the number of characters that are used to encode this
      character<p>.</p><p>Actually checks if this is a high-surrogate value, if not returns 1,
      indicating that the character is encoded a single <code>utf16</code> character,
      otherwise returns 2, indicating that 1 one other <code>utf16</code> character
      is required to encode this data.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strdispose"></a><code>function <b>utf8strdispose</b>(p: pchar): pchar;</code></td>
</tr>
</table>
<p>Disposes of an UTF-8 null terminated string on the heap<p>Disposes of a string that was previously allocated with
      <code>utf8strnew</code>, and sets the pointer to nil.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strlcopyucs4"></a><code>function <b>utf8strlcopyucs4</b>(src: pchar; dst: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>; maxlen: integer): <a class="normal" href="unicode.html#pucs4char">pucs4char</a>;</code></td>
</tr>
</table>
<p>Convert an UTF-8 null terminated string to an UCS-4 null terminated string<p>This routine converts an UTF-8 null terminared string to an UCS-4
      null terminated string that is stored in native byte order, up to
      length conversion.</p>
</p>
<h6>returns</h6>
<p class="return">nil if there was no error in the conversion</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strnew"></a><code>function <b>utf8strnew</b>(src: <a class="normal" href="unicode.html#pucs4char">pucs4char</a>): pchar;</code></td>
</tr>
</table>
<p>Converts an UCS-4 null terminated string to an UTF-8 null
   terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#utf8strdispose">utf8strdispose</a> to dispose
   of the allocated string. The string is null terminated. If the parameter is
   nil, this routine returns nil and does not allocate anything.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strnewstr"></a><code>function <b>utf8strnewstr</b>(str: <a class="normal" href="unicode.html#utf8string">utf8string</a>): <a class="normal" href="unicode.html#putf8char">putf8char</a>;</code></td>
</tr>
</table>
<p>Converts an UTF-8 string to a null terminated UTF-8 string.<p>The memory for the storage of the string is allocated by
      the routine, and the ending null character is also added.</p>
</p>
<h6>returns</h6>
<p class="return">The newly allocated UTF-8 null terminated string</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strnewutf8"></a><code>function <b>utf8strnewutf8</b>(src: pchar): pchar;</code></td>
</tr>
</table>
<p>Allocates and copies an UTF-8 null terminated string<p>The memory for the buffer is allocated. Use <a class="normal" href="unicode.html#utf8strdispose">utf8strdispose</a> to dispose
   of the allocated string. The string is copied from src and is null terminated.
   If the parameter is nil, this routine returns nil and does not allocate
   anything.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strpas"></a><code>function <b>utf8strpas</b>(src: pchar): string;</code></td>
</tr>
</table>
<p>Converts a null-terminated UTF-8 string to a Pascal-style
       UTF-8 encoded string.</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strpastoASCII"></a><code>function <b>utf8strpastoASCII</b>(src: pchar): string;</code></td>
</tr>
</table>
<p>Converts a null-terminated UTF-8 string to a Pascal-style
       ASCII encoded string.<p>Characters that cannot be converted are converted to
      escape sequences of the form : \uxxxxxxxx where xxxxxxxx is
      the hex representation of the character.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8strpastoISO8859_1"></a><code>function <b>utf8strpastoISO8859_1</b>(src: pchar): string;</code></td>
</tr>
</table>
<p>Converts a null-terminated UTF-8 string to a Pascal-style
       ISO 8859-1 encoded string.<p>Characters that cannot be converted are converted to
      escape sequences of the form : \uxxxxxxxx where xxxxxxxx is
      the hex representation of the character.</p>
</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8_islegal"></a><code>function <b>utf8_islegal</b>(const s: <a class="normal" href="unicode.html#utf8string">utf8string</a>): boolean;</code></td>
</tr>
</table>
<p>Returns if the specified UTF-8 string is legal or not<p>Verifies that the UTF-8 encoded strings is encoded in a legal
      way.</p>
</p>
<h6>returns</h6>
<p class="return">FALSE if the string is illegal, otherwise returns TRUE</p><table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8_length"></a><code>function <b>utf8_length</b>(const s: <a class="normal" href="unicode.html#utf8string">utf8string</a>): integer;</code></td>
</tr>
</table>
<p>Returns the current length of an UTF-8 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8_setlength"></a><code>procedure <b>utf8_setlength</b>(var s: <a class="normal" href="unicode.html#utf8string">utf8string</a>; l: integer);</code></td>
</tr>
</table>
<p>Set the length of an UTF-8 string</p>
<table cellspacing="2" cellpadding="4" width="100%">
<tr class="list" valign="top"><td width="100%"><a name="utf8_sizeencoding"></a><code>function <b>utf8_sizeencoding</b>(c: <a class="normal" href="unicode.html#utf8char">utf8char</a>): integer;</code></td>
</tr>
</table>
<p>Returns the number of characters that are used to encode this
      character<p>.</p>
</p>
<a name="@Types"></a><h2>Types</h2>
<table class="itemlist" cellspacing="2" cellpadding="4" width="100%"><tr class="listheader"><th class="listheader" nowrap="nowrap">Name</th><th class="listheader" width="100%">Description</th></tr>
<tr class="list2" valign="top"><td><a name="utf8char"></a>utf8char<code> = char;</code></td>
<td><p>UTF-8 base data type</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="putf8char"></a>putf8char<code> = pchar;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list2" valign="top"><td><a name="utf16char"></a>utf16char<code> = word;</code></td>
<td><p>UTF-16 base data type</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="ucs4char"></a>ucs4char<code> = longword;</code></td>
<td><p>UCS-4 base data type</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="pucs4char"></a>pucs4char<code> = ^<a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
<td><p>UCS-4 null terminated string</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="ucs2char"></a>ucs2char<code> = word;</code></td>
<td><p>UCS-2 base data type</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="pucs2char"></a>pucs2char<code> = ^<a class="normal" href="unicode.html#ucs2char">ucs2char</a>;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list" valign="top"><td><a name="ucs2string"></a>ucs2string<code> = array[0..<a class="normal" href="unicode.html#MAX_STRING_LENGTH">MAX_STRING_LENGTH</a>] of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>;</code></td>
<td><p>UCS-2 string declaration. Index 0 contains the active length
      of the string in characters.</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="ucs4string"></a>ucs4string<code> = array[0..<a class="normal" href="unicode.html#MAX_STRING_LENGTH">MAX_STRING_LENGTH</a>] of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
<td><p>UCS-4 string declaration. Index 0 contains the active length
      of the string in characters.</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="utf8string"></a>utf8string<code> = shortstring;</code></td>
<td><p>UTF-8 string declaration. Index 0 contains the active length
      of the string in BYTES</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="utf16string"></a>utf16string<code> = array[0..<a class="normal" href="unicode.html#MAX_STRING_LENGTH">MAX_STRING_LENGTH</a>] of <a class="normal" href="unicode.html#utf16char">utf16char</a>;</code></td>
<td><p>UTF-16 string declaration. Index 0 contains the active length
      of the string in BYTES</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="ucs4strarray"></a>ucs4strarray<code> = array[0..<a class="normal" href="unicode.html#MAX_UCS4_CHARS">MAX_UCS4_CHARS</a>] of <a class="normal" href="unicode.html#ucs4char">ucs4char</a>;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list2" valign="top"><td><a name="pucs4strarray"></a>pucs4strarray<code> = ^<a class="normal" href="unicode.html#ucs4strarray">ucs4strarray</a>;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list" valign="top"><td><a name="ucs2strarray"></a>ucs2strarray<code> = array[0..<a class="normal" href="unicode.html#MAX_UCS2_CHARS">MAX_UCS2_CHARS</a>] of <a class="normal" href="unicode.html#ucs2char">ucs2char</a>;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list2" valign="top"><td><a name="pucs2strarray"></a>pucs2strarray<code> = ^<a class="normal" href="unicode.html#ucs2strarray">ucs2strarray</a>;</code></td>
<td>&nbsp;</td>
</tr>
</table><a name="@Constants"></a><h2>Constants</h2>
<table class="itemlist" cellspacing="2" cellpadding="4" width="100%"><tr class="listheader"><th class="listheader" nowrap="nowrap">Name</th><th class="listheader" width="100%">Description</th></tr>
<tr class="list" valign="top"><td><a name="MAX_STRING_LENGTH"></a>MAX_STRING_LENGTH<code> = 255;</code></td>
<td><p>Gives the number of characters that can be contained in a string</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="MAX_UCS4_CHARS"></a>MAX_UCS4_CHARS<code> = high(smallint) div (sizeof(<a class="normal" href="unicode.html#ucs4char">ucs4char</a>));</code></td>
<td><p>Maximum size of a null-terminated UCS-4 character string</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="MAX_UCS2_CHARS"></a>MAX_UCS2_CHARS<code> = high(smallint) div (sizeof(<a class="normal" href="unicode.html#ucs2char">ucs2char</a>))-1;</code></td>
<td><p>Maximum size of a null-terminated UCS-4 character string</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="UNICODE_ERR_OK"></a>UNICODE_ERR_OK<code> =     0;</code></td>
<td><p>Return status: conversion successful</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="UNICODE_ERR_SOURCEILLEGAL"></a>UNICODE_ERR_SOURCEILLEGAL<code> = -1;</code></td>
<td><p>Return status: source sequence is illegal/malformed</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="UNICODE_ERR_LENGTH_EXCEED"></a>UNICODE_ERR_LENGTH_EXCEED<code> = -2;</code></td>
<td><p>Return status: Target space excedeed</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="UNICODE_ERR_INCOMPLETE_CONVERSION"></a>UNICODE_ERR_INCOMPLETE_CONVERSION<code> = -3;</code></td>
<td><p>Return status: Some charactrer could not be successfully converted to this format</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="UNICODE_ERR_NOTFOUND"></a>UNICODE_ERR_NOTFOUND<code> = -4;</code></td>
<td><p>Return status: The character set is not found</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="BOM_UTF8"></a>BOM_UTF8<code>     = #$EF#$BB#$BF;</code></td>
<td><p>Byte order mark: UTF-8 encoding signature</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="BOM_UTF32_BE"></a>BOM_UTF32_BE<code> = #00#00#$FE#$FF;</code></td>
<td><p>Byte order mark: UCS-4 big endian encoding signature</p>
</td>
</tr>
<tr class="list" valign="top"><td><a name="BOM_UTF32_LE"></a>BOM_UTF32_LE<code> = #$FF#$FE#00#00;</code></td>
<td><p>Byte order mark: UCS-4 little endian encoding signature</p>
</td>
</tr>
<tr class="list2" valign="top"><td><a name="BOM_UTF16_BE"></a>BOM_UTF16_BE<code> = #$FE#$FF;</code></td>
<td>&nbsp;</td>
</tr>
<tr class="list" valign="top"><td><a name="BOM_UTF16_LE"></a>BOM_UTF16_LE<code> = #$FF#$FE;</code></td>
<td>&nbsp;</td>
</tr>
</table><a name="@Variables"></a><h2>Author</h2>
<p>Carl Eric Codre</p>
<hr noshade="1" size="1"/><em>Generated by <a class="normal" target="_new" href="http://pasdoc.sourceforge.net/">PasDoc 0.8.8.3</a> on 2005-01-08 16:01:02</em>
</body></html>
