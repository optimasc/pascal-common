<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta name="GENERATOR" content="PasDoc 0.8.8.3">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<title>Common pascal units documentation: utils</title>
<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#FF0000">
<h1 class="unit">Unit utils</h1>
<table class="sections">
<tr>
<td><a class="section"  href="#@Description">Description</a></td><td>uses</td><td>Classes, Interfaces, Objects and Records</td><td><a class="section"  href="#@FuncsProcs">Functions and Procedures</a></td><td><a class="section"  href="#@Types">Types</a></td><td><a class="section"  href="#@Constants">Constants</a></td><td>Variables</td></tr></table>
<a name="@Description"></a><h2 class="description">Description</h2>
<p>
General utilities common to all platforms.</p>
<p>
 </p>
<a name="@Uses"></a><h2 class="overview">Overview</h2>
<a name="@FuncsProcs"></a><h3 class="summary">Functions and Procedures</h3>
<table class="summary">
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#AddDoubleQuotes">AddDoubleQuotes</a></b>(s: string): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>Function <b><a   href="utils.html#AnsiDirectoryExists">AnsiDirectoryExists</a></b>(DName : string): Boolean;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>Function <b><a   href="utils.html#AnsiFileExists">AnsiFileExists</a></b>(const FName : string): Boolean;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#boolstr">boolstr</a></b>(val: boolean; cnt: byte): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#ChangeFileExt">ChangeFileExt</a></b>(const FileName, Extension: string): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#CleanString">CleanString</a></b>(const s: string): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#CompareByte">CompareByte</a></b>(buf1,buf2: pchar;len:longint):integer;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#decstr">decstr</a></b>(val : longint;cnt : byte) : string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#decstrunsigned">decstrunsigned</a></b>(l : longword;cnt: byte): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#EscapeToPascal">EscapeToPascal</a></b>(const s:string; var code: integer): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#FillTo">FillTo</a></b>(s : string; tolength: integer): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#fillwithzero">fillwithzero</a></b>(s: string; newlength: integer): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#hexstr">hexstr</a></b>(val : longint;cnt : byte) : string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#LowString">LowString</a></b>(s : string): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#Printf">Printf</a></b>(const s : string; var Buf; size : word): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#RemoveDoubleQuotes">RemoveDoubleQuotes</a></b>(s: string): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#removenulls">removenulls</a></b>(const s: string): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a   href="utils.html#StreamErrorProcedure">StreamErrorProcedure</a></b>(Var S: TStream);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#StrGetNextLine">StrGetNextLine</a></b>(var Text: String) : String;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <b><a   href="utils.html#stringdispose">stringdispose</a></b>(var p : <a   href="utils.html#PshortString">pShortstring</a>);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#stringdup">stringdup</a></b>(const s : string) : <a   href="utils.html#PshortString">pShortstring</a>;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#StrToken">StrToken</a></b>(var Text: String; Delimiter: Char; UseQuotes: boolean) : String;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>Procedure <b><a   href="utils.html#SwapLong">SwapLong</a></b>(var x : longword);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>Procedure <b><a   href="utils.html#SwapWord">SwapWord</a></b>(var x : word);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#Trim">Trim</a></b>(const S: string): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#TrimLeft">TrimLeft</a></b>(const S: string): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#TrimRight">TrimRight</a></b>(const S: string): string;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#UpString">UpString</a></b>(s : string): string;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#ValBinary">ValBinary</a></b>(const S:String; var code: integer):longint;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#ValDecimal">ValDecimal</a></b>(const S:String; var code: integer):longint;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#ValHexadecimal">ValHexadecimal</a></b>(const S:String; var code: integer):longint;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>function <b><a   href="utils.html#ValOctal">ValOctal</a></b>(const S:String;var code: integer):longint;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <b><a   href="utils.html#ValUnsignedDecimal">ValUnsignedDecimal</a></b>(const S:String; var code: integer):longword;</code></td>
</tr>
</table>
<a name="@Types"></a><h3 class="summary">Types</h3>
<table class="summary">
<tr class="list">
<td class="itemcode"><code><b><a   href="utils.html#PshortString">PshortString</a></b> = &circ;ShortString;</code></td>
</tr>
</table>
<a name="@Constants"></a><h3 class="summary">Constants</h3>
<table class="summary">
<tr class="list">
<td class="itemcode"><code><b><a   href="utils.html#EXIT_DOSERROR">EXIT_DOSERROR</a></b> = 2;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code><b><a   href="utils.html#EXIT_ERROR">EXIT_ERROR</a></b> = 1;</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code><b><a   href="utils.html#WhiteSpace">WhiteSpace</a></b> = [' ',#10,#13,#9];</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Functions and Procedures</h3>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="AddDoubleQuotes"></a><code>function <b>AddDoubleQuotes</b>(s: string): string;</code></td>
</tr>
</table>
<p>
Trims and adds double quotes to the string if it contains spaces</p>
<p>
.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="AnsiDirectoryExists"></a><code>Function <b>AnsiDirectoryExists</b>(DName : string): Boolean;</code></td>
</tr>
</table>
<p>
Verifies the existence of a directory</p>
<p>
 This routine verifies if the directory named can be opened or if it actually exists.

<p>Only works with the current active code page table.

<p> </p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>DName</dt>
<dd>Name of the directory to check</dd>
</dl>
<h6 class="return">returns</h6>
<p class="return">FALSE if the directory cannot be opened or if it does not exist.</p><table class="detail">
<tr class="list">
<td class="itemcode"><a name="AnsiFileExists"></a><code>Function <b>AnsiFileExists</b>(const FName : string): Boolean;</code></td>
</tr>
</table>
<p>
Verifies the existence of a filename</p>
<p>
 This routine verifies if the file named can be opened or if it actually exists.

<p>Only works with the current active code page table.

<p> </p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>FName</dt>
<dd>Name of the file to check</dd>
</dl>
<h6 class="return">returns</h6>
<p class="return">FALSE if the file cannot be opened or if it does not exist</p><table class="detail">
<tr class="list">
<td class="itemcode"><a name="boolstr"></a><code>function <b>boolstr</b>(val: boolean; cnt: byte): string;</code></td>
</tr>
</table>
<p>
Convert a boolean value to an ASCII representation</p>
<p>


<p>To avoid left padding with spaces, set <code>cnt</code> to zero.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ChangeFileExt"></a><code>function <b>ChangeFileExt</b>(const FileName, Extension: string): string;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="CleanString"></a><code>function <b>CleanString</b>(const s: string): string;</code></td>
</tr>
</table>
<p>
Cleans up a string of illegal control characters, newlines and tabs. It does the following on the string:

<p>This only works on UTF-8/ASCII/ISO-8859 strings.

<p>1) Removes characters from code #0..#31 at any location in the string. 2) Trims spaces at the begining and end of the string.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="CompareByte"></a><code>function <b>CompareByte</b>(buf1,buf2: pchar;len:longint):integer;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="decstr"></a><code>function <b>decstr</b>(val : longint;cnt : byte) : string;</code></td>
</tr>
</table>
<p>
Convert a value to an ASCII decimal representation</p>
<p>


<p>To avoid left padding with zeros, set <code>cnt</code> to zero.

<p></p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>val</dt>
<dd>Signed 32-bit value to convert</dd>
</dl>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="decstrunsigned"></a><code>function <b>decstrunsigned</b>(l : longword;cnt: byte): string;</code></td>
</tr>
</table>
<p>
Convert a value to an ASCII decimal representation</p>
<p>


<p>To avoid left padding with zeros, set <code>cnt</code> to zero.

<p></p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>val</dt>
<dd>unsigned 32-bit value to convert</dd>
</dl>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="EscapeToPascal"></a><code>function <b>EscapeToPascal</b>(const s:string; var code: integer): string;</code></td>
</tr>
</table>
<p>
Converts a C style string (containing escape characters), to a pascal style string. Returns the converted string. If there is no error in the conversion, <code>code</code> will be equal to zero.

<p> </p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>s</dt>
<dd>String to convert</dd>
<dt>code</dt>
<dd>Result of operation, 0 when there is no error</dd>
</dl>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="FillTo"></a><code>function <b>FillTo</b>(s : string; tolength: integer): string;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="fillwithzero"></a><code>function <b>fillwithzero</b>(s: string; newlength: integer): string;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="hexstr"></a><code>function <b>hexstr</b>(val : longint;cnt : byte) : string;</code></td>
</tr>
</table>
<p>
Convert a value to an ASCII hexadecimal representation</p>
<p>


<p>Convert a value to an ASCII hexadecimal representation. All ascii character are returned in upper case letters.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="LowString"></a><code>function <b>LowString</b>(s : string): string;</code></td>
</tr>
</table>
<p>
Convert a string to lowercase ASCII</p>
<p>


<p>Converts a string containing ASCII characters to a string in lower case ASCII characters.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="Printf"></a><code>function <b>Printf</b>(const s : string; var Buf; size : word): string;</code></td>
</tr>
</table>
<p>
Format a string and print it out to the console</p>
<p>
 This routine formats the string specified in s to the format specified and returns the resulting string.

<p>The following specifiers are allowed: %d : The buffer contents contains an integer %s : The buffer contents contains a string, terminated by a null character. %bh : The buffer contents contains a byte coded in BCD format, only the high byte will be kept. %bl : The buffer contents contains a byte coded in BCD format, only the low byte will be kept.

<p>   </p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>s</dt>
<dd>The string to format, with format specifiers</dd>
<dt>buf</dt>
<dd>The buffer containing the data</dd>
<dt>size</dt>
<dd>The size of the data in the buffer</dd>
</dl>
<h6 class="return">returns</h6>
<p class="return">The resulting formatted string</p><table class="detail">
<tr class="list">
<td class="itemcode"><a name="RemoveDoubleQuotes"></a><code>function <b>RemoveDoubleQuotes</b>(s: string): string;</code></td>
</tr>
</table>
<p>
Removes the leading and ending double quotes from a string</p>
<p>


<p>If there is no double quotes at the beginning or end of the string, it returns the unmodified string.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="removenulls"></a><code>function <b>removenulls</b>(const s: string): string;</code></td>
</tr>
</table>
<p>
Remove all null characters from a string.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="StreamErrorProcedure"></a><code>procedure <b>StreamErrorProcedure</b>(Var S: TStream);</code></td>
</tr>
</table>
<p>
Generic stream error procedure</p>
<p>
 Generic stream error procedure that can be used to set <code>streamerror</code></p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="StrGetNextLine"></a><code>function <b>StrGetNextLine</b>(var Text: String) : String;</code></td>
</tr>
</table>
<p>
Returns the next-line in a possible multiple line string</p>
<p>


<p>This routine is used to retrive a line that may contain end of line ASCII characters in one of the standard Operating System formats.

<p> </p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>Text</dt>
<dd>Text string to parse, deletes itself</dd>
</dl>
<h6 class="return">returns</h6>
<p class="return">The string, excluding the EOLN characters</p><table class="detail">
<tr class="list">
<td class="itemcode"><a name="stringdispose"></a><code>procedure <b>stringdispose</b>(var p : <a   href="utils.html#PshortString">pShortstring</a>);</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="stringdup"></a><code>function <b>stringdup</b>(const s : string) : <a   href="utils.html#PshortString">pShortstring</a>;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="StrToken"></a><code>function <b>StrToken</b>(var Text: String; Delimiter: Char; UseQuotes: boolean) : String;</code></td>
</tr>
</table>
<p>
Separates a string into its individual token representations</p>
<p>


<p>   

<p>When Text returns an empty string, this indicates that all the data has been parsed.</p>
<h6 class="parameters">parameters</h6>
<dl class="parameters">
<dt>Text</dt>
<dd>Text string to tokenize, deletes itself</dd>
<dt>Delimiter</dt>
<dd>The character delimiter for tokens</dd>
<dt>UseQuotes</dt>
<dd>Are Quotes allowed for escaping the delimiter</dd>
</dl>
<h6 class="return">returns</h6>
<p class="return">The current token</p><table class="detail">
<tr class="list">
<td class="itemcode"><a name="SwapLong"></a><code>Procedure <b>SwapLong</b>(var x : longword);</code></td>
</tr>
</table>
<p>
Change the endian of a 32-bit value</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="SwapWord"></a><code>Procedure <b>SwapWord</b>(var x : word);</code></td>
</tr>
</table>
<p>
Change the endian of a 16-bit value</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="Trim"></a><code>function <b>Trim</b>(const S: string): string;</code></td>
</tr>
</table>
<p>
Trim removes leading and trailing spaces and control characters from the given string S</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="TrimLeft"></a><code>function <b>TrimLeft</b>(const S: string): string;</code></td>
</tr>
</table>
<p>
Remove all whitespace from the start of a string</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="TrimRight"></a><code>function <b>TrimRight</b>(const S: string): string;</code></td>
</tr>
</table>
<p>
Remove all whitespace from the end of a string</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="UpString"></a><code>function <b>UpString</b>(s : string): string;</code></td>
</tr>
</table>
<p>
Convert a string to uppercase ASCII</p>
<p>


<p>Converts a string containing ASCII characters to a string in upper case ASCII characters.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ValBinary"></a><code>function <b>ValBinary</b>(const S:String; var code: integer):longint;</code></td>
</tr>
</table>
<p>
Convert a binary value represented by a string to its numerical value. If there is no error, <code>code</code> will be equal to zero.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ValDecimal"></a><code>function <b>ValDecimal</b>(const S:String; var code: integer):longint;</code></td>
</tr>
</table>
<p>
Convert a decimal value represented by a string to its numerical value. If there is no error, <code>code</code> will be equal to zero.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ValHexadecimal"></a><code>function <b>ValHexadecimal</b>(const S:String; var code: integer):longint;</code></td>
</tr>
</table>
<p>
Convert an hexadecimal value represented by a string to its numerical value. If there is no error, <code>code</code> will be equal to zero.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ValOctal"></a><code>function <b>ValOctal</b>(const S:String;var code: integer):longint;</code></td>
</tr>
</table>
<p>
Convert an octal value represented by a string to its numerical value. If there is no error, <code>code</code> will be equal to zero.</p>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="ValUnsignedDecimal"></a><code>function <b>ValUnsignedDecimal</b>(const S:String; var code: integer):longword;</code></td>
</tr>
</table>
<p>
Convert a decimal value represented by a string to its numerical value. If there is no error, <code>code</code> will be equal to zero.</p>
<h3 class="detail">Types</h3>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="PshortString"></a><code><b>PshortString</b> = &circ;ShortString;</code></td>
</tr>
</table>
&nbsp;<h3 class="detail">Constants</h3>
<table class="detail">
<tr class="list">
<td class="itemcode"><a name="EXIT_DOSERROR"></a><code><b>EXIT_DOSERROR</b> = 2;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="EXIT_ERROR"></a><code><b>EXIT_ERROR</b> = 1;</code></td>
</tr>
</table>
&nbsp;<table class="detail">
<tr class="list">
<td class="itemcode"><a name="WhiteSpace"></a><code><b>WhiteSpace</b> = [' ',#10,#13,#9];</code></td>
</tr>
</table>
&nbsp;<h2 class="authors">Author</h2>
<ul class="authors">
<li>Carl Eric Codere</li>
</ul>
<hr noshade size="1"><span class="appinfo"><em>Generated by <a  target="_parent" href="http://pasdoc.sourceforge.net/">PasDoc 0.8.8.3</a> on 2007-08-15 22:08:11</em>
</span>
</body></html>
